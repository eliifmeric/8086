BPORT3 EQU 3FD2H

 CODE SEGMENT

 ASSUME CS: CODE, DS: CODE
 ORG 0
 INIT:
MOV SI, OFFSET STR1

 

COMPARE:
MOV AL, CS :[SI]
CMP AL, '$'

JE ENDF
CMP AL, 'a'
JE STRA
CMP AL, 'b'
JE STRB
JMP NEXTSTR

NEXTSTR:
INC SI
JMP COMPARE

STRA:
ADD C1, 1d
JMP NEXTSTR

STRB:
ADD C2, 1d
JMP NEXTSTR


cmp al, 'b'
inc c2

EQUAL:
mov al, 1d
MOV DX, 3FD2H
OUT DX, AL
 HLT


NOTEQUAL:
CMP AL, 2d
MOV DX, 3FD2H
OUT DX, AL
 HLT

ENDF:
MOV CL, C1
MOV DL, C2
CMP CL, DL
JE EQUAL
JMP NOTEQUAL

PRINTLEDS:
MOV DX, 3FD2H
OUT DX, AL
 HLT
 
 STR1 DB 'abc$'
 C1 DB 0
 C2 DB 0
 CODE ENDS
 END INIT